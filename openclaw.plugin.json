{
  "id": "compaction-context",
  "name": "Compaction Context Recovery",
  "version": "1.0.0",
  "description": "Preserves recent conversation context across compaction cycles. Captures last N messages before compaction and injects them into the next turn.",
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "messageCount": {
        "type": "number",
        "default": 20,
        "description": "Number of recent messages to preserve"
      },
      "maxCharsPerMessage": {
        "type": "number",
        "default": 500,
        "description": "Truncate each message to this many characters"
      }
    }
  },
  "uiHints": {
    "messageCount": {
      "label": "Messages to Preserve",
      "placeholder": "20"
    },
    "maxCharsPerMessage": {
      "label": "Max Chars per Message",
      "placeholder": "500"
    }
  }
}
